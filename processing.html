<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Processing.js with HTML Input and Reset</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.8/processing.min.js"></script>
</head>
<body>
    <h1>Processing.js with HTML Input and Reset</h1>
    <canvas id="mycanvas"></canvas>
    <br>
    <label for="myInput">Enter array size:</label>
    <input type="number" id="myInput" value="10">
    <button id="resetButton">Reset</button>

    <script type="text/processing" data-processing-target="mycanvas">
        // Processing.js Code
        int arraySize = 10;
        int[] myArray;

        void setup() {
            size(400, 400);
            initializeArray(arraySize);
        }

        void draw() {
            background(255);
            fill(0);
            textSize(32);
            text("Array size: " + arraySize, 50, 200);
        }

        void initializeArray(int size) {
            arraySize = size;
            myArray = new int[arraySize];
            for (int i = 0; i < arraySize; i++) {
                myArray[i] = int(random(100));
            }
        }

        void resetSketch(int newSize) {
            arraySize = newSize;
            initializeArray(arraySize);
            redraw();
        }
    </script>

    <script>
        // JavaScript to handle input changes and reset the sketch
        document.getElementById('resetButton').addEventListener('click', function() {
            var pjs = Processing.getInstanceById('mycanvas');
            var newSize = parseInt(document.getElementById('myInput').value);
            pjs.resetSketch(newSize);
        });
    </script>
</body>
</html>
